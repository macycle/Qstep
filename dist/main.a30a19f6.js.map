{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","info","localStorage","getItem","infoObject","JSON","parse","hashMap","simplify","url","replace","render","remove","forEach","node","index","$li","logo","insertBefore","on","window","open","e","stopPropagation","splice","console","log","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAACC,CAAC,CAAC,WAAD,CAAjB,EAAoC;;AACpC,IAAMC,OAAO,GAACF,SAAS,CAACG,IAAV,CAAe,SAAf,CAAd;AAEA,IAAMC,IAAI,GAAEC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAZ;AACA,IAAMC,UAAU,GAACC,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAjB;AACA,IAAIM,OAAO,GAACH,UAAU,IAAI,EAA1B,EACK;;AAEL,IAAMI,QAAQ,GAAC,SAATA,QAAS,CAACC,GAAD,EAAO;AAClB,SAAOA,GAAG,CAACC,OAAJ,CAAY,UAAZ,EAAuB,EAAvB,EAA2BA,OAA3B,CAAmC,SAAnC,EAA6C,EAA7C,EAAiDA,OAAjD,CAAyD,MAAzD,EAAgE,EAAhE,EAAoEA,OAApE,CAA4E,MAA5E,EAAmF,EAAnF,CAAP,CADkB,CAC8E;AACnG,CAFD;;AAIA,IAAMC,MAAM,GAAC,SAAPA,MAAO,GAAI;AAEbd,EAAAA,SAAS,CAACG,IAAV,CAAe,iBAAf,EAAkCY,MAAlC,GAFa,CAEgC;;AAE7CL,EAAAA,OAAO,CAACM,OAAR,CAAgB,UAACC,IAAD,EAAMC,KAAN,EAAc;AAC1B,QAAMC,GAAG,GAAClB,CAAC,8FAEiBgB,IAAI,CAACG,IAFtB,yDAGiBT,QAAQ,CAACM,IAAI,CAACL,GAAN,CAHzB,2QAAD,CAUFS,YAVE,CAUWnB,OAVX,CAAV,CAD0B,CAWK;;AAE/BiB,IAAAA,GAAG,CAACG,EAAJ,CAAO,OAAP,EAAe,YAAI;AAAK;AACpBC,MAAAA,MAAM,CAACC,IAAP,CAAYP,IAAI,CAACL,GAAjB;AACH,KAFD;AAGAO,IAAAA,GAAG,CAACG,EAAJ,CAAO,OAAP,EAAe,QAAf,EAAwB,UAACG,CAAD,EAAK;AAAI;AAC7BA,MAAAA,CAAC,CAACC,eAAF;AACAhB,MAAAA,OAAO,CAACiB,MAAR,CAAeT,KAAf,EAAqB,CAArB;AACAJ,MAAAA,MAAM;AACT,KAJD;AAKAc,IAAAA,OAAO,CAACC,GAAR,CAAYV,GAAZ;AACH,GAtBD;AAuBH,CA3BD;;AA6BAL,MAAM;AAENb,CAAC,CAAC,YAAD,CAAD,CACKqB,EADL,CACQ,OADR,EACgB,YAAI;AAChB,MAAIV,GAAG,GAACW,MAAM,CAACO,MAAP,CAAc,OAAd,CAAR;;AACA,MAAGlB,GAAG,CAACmB,OAAJ,CAAY,MAAZ,MAAsB,CAAC,CAA1B,EAA4B;AACxBnB,IAAAA,GAAG,GAAC,aAAWA,GAAf;AACH;;AACDF,EAAAA,OAAO,CAACsB,IAAR,CAAa;AAACZ,IAAAA,IAAI,EAACT,QAAQ,CAACC,GAAD,CAAR,CAAc,CAAd,EAAiBqB,WAAjB,EAAN;AACTrB,IAAAA,GAAG,EAACA;AADK,GAAb;AAGAE,EAAAA,MAAM;AAET,CAXD;;AAaAS,MAAM,CAACW,cAAP,GAAsB,YAAI;AAAK;AAC3B,MAAMC,MAAM,GAAC3B,IAAI,CAAC4B,SAAL,CAAe1B,OAAf,CAAb;AACAL,EAAAA,YAAY,CAACgC,OAAb,CAAqB,MAArB,EAA4BF,MAA5B;AACH,CAHD;;AAKAlC,CAAC,CAACqC,QAAD,CAAD,CAAYhB,EAAZ,CAAe,UAAf,EAA0B,UAACG,CAAD,EAAK;AAAA,MACpBc,GADoB,GACfd,CADe,CACpBc,GADoB;;AAE3B,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC9B,OAAO,CAAC+B,MAAtB,EAA6BD,CAAC,EAA9B,EAAiC;AAC7B,QAAG9B,OAAO,CAAC8B,CAAD,CAAP,CAAWpB,IAAX,CAAgBsB,WAAhB,OAAgCH,GAAnC,EAAuC;AACnChB,MAAAA,MAAM,CAACC,IAAP,CAAYd,OAAO,CAAC8B,CAAD,CAAP,CAAW5B,GAAvB;AACH;AACJ;AACJ,CAPD","file":"main.a30a19f6.js","sourceRoot":"..\\src","sourcesContent":["const $siteList=$('.siteList');     //找到sitelist的元素\r\nconst $lastLi=$siteList.find('.lastLi');  \r\n\r\nconst info =localStorage.getItem('info');\r\nconst infoObject=JSON.parse(info);\r\nlet hashMap=infoObject || [\r\n]    //创建一个储存结构\r\n\r\nconst simplify=(url)=>{\r\n    return url.replace('https://','').replace('http://','').replace('www.','').replace(/\\/.*/,'')   //es6也支持链式写法了\r\n}\r\n\r\nconst render=()=>{\r\n\r\n    $siteList.find('li:not(.lastLi)').remove();  //先清空\r\n\r\n    hashMap.forEach((node,index)=>{        \r\n        const $li=$(`<li>       \r\n            <div class=\"site\">\r\n                <div class=\"logo\">${node.logo}</div>\r\n                <div class=\"link\">${simplify(node.url)}</div>\r\n                <div class=\"close\">\r\n                    <svg class=\"icon\" aria-hidden=\"true\">\r\n                        <use xlink:href=\"#icon-guanbi\"></use>\r\n                    </svg>\r\n                </div>\r\n            </div> \r\n        </li>`).insertBefore($lastLi)  //insertBefore（）他会渲染到页面上\r\n\r\n        $li.on('click',()=>{    //使用新窗口打开\r\n            window.open(node.url)\r\n        });\r\n        $li.on('click','.close',(e)=>{   //阻止的是.close的那个元素冒泡\r\n            e.stopPropagation();\r\n            hashMap.splice(index,1);\r\n            render();\r\n        });\r\n        console.log($li)\r\n    })\r\n}\r\n\r\nrender();\r\n\r\n$('.addButton')\r\n    .on('click',()=>{\r\n    let url=window.prompt('请添加网址');\r\n    if(url.indexOf('http')===-1){\r\n        url='https://'+url;\r\n    }\r\n    hashMap.push({logo:simplify(url)[0].toUpperCase(),\r\n        url:url}\r\n        );\r\n    render();\r\n    \r\n})\r\n\r\nwindow.onbeforeunload=()=>{    //当页面离开时存到localstroage\r\n    const string=JSON.stringify(hashMap)\r\n    localStorage.setItem('info',string);\r\n}\r\n\r\n$(document).on('keypress',(e)=>{\r\n    const {key}=e\r\n    for(let i=0;i<hashMap.length;i++){\r\n        if(hashMap[i].logo.toLowerCase()===key){\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})\r\n\r\n\r\n"]}